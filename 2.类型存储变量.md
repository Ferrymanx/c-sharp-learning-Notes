# 四 类型存储变量(C#图解教程第四章读书笔记)

## 1.概述

c#程序或dll的源代码是一组类型声明，类型由以下元素进行定义：
1. 名称
2. 用于保存数据成员的数据结构
3. 一些行为及约束条件

## 2.数据成员和函数成员
像 short、int、long 这样的类型称为简单类型。这种类型只能储存一个数据量。其他类型可以包含不同的数据项。这些数据项有独特的名称。
有两种成员
1. 数据成员：保存了这个类的对象或整个类相关的数据
2. 函数成员：保执行代码。函数成员定义类型的行为。
   
## 3.预定义类型
c#提供了16种预定义类型，其中有十三种简单类型，在简单类型中有11种数值类型，和一种Unicode字符类型char，一种布尔类型bool

3种非简单类型有：
1. string，他是一个Unicode数组
2. object，他是所有其他类型的基类
3. dynamic，使用动态语言编写程序集时使用

## 4.用户定义类型
除了c#提供的预定义类型，还可以创建自己的用户定义类型。有6种可以又用户自己创建。分别是：
1. 类类型（class）
2. 结构类型（struct）
3. 数组类型（array）
4. 枚举类型（enum）
5. 委托类型（delegate）
6. 接口类型（interface）

ps：与c和c++不同，c#的数值类型不具有布尔意义
用户定义类型是一个两步过程：必须先声明类型，然后实例化该类型对象.

## 5.值类型和引用类型
数据项的类型定义了数据存储的内存大小及组成该类型的数据成员，类型还决定了对象在内存中的存储位置——栈或堆

+ 值类型只需要一段单独的内存，用于存储实际的数据（数据存放在栈中，也可能在堆中）
+ 引用类型
    1. 第一段存储实际的数据，他总是位于堆中
    2. 第二段是一个引用，指向数据在堆中的存放位置。（存放在栈中也可能在堆中）

ps：如果一个引用类型有两种不同类型的成员，那么其数据都是存储在堆中的。

|    | 值类型  | 引用类型   |
|  ----  | ----  | ---- |
| 预定义类型  | sbyte,byte、short、ushort、int、uint、long、ulong、bool |float、double、string、char、dynamic、decimal |
| 用户定义类型  | struct、enum | class、interface、delegate、array |

## 6.变量 7.dynamic类型
变量是一个名称，表示程序执行时存储在内存的数据。
初始化方法与c类似这里不多做说明。

dynamic类型代表一个特定的类型，他知道如何在运行时解析自身。编译器不会对dynamic类型做类型检查。相反他将会与该变量及该变量操作有关的所有信息打包。在运行时对这些信息进行检查，以确保它与变量所代表的实际类型一致，否则将会在运行时抛出异常。
